# Экологичный веб-дизайн

Все большее число отраслей производства стремится сократить выбросы парниковых 
газов в атмосферу (так называемый «углеродный след») и потребление энергии. Для 
[автомобильной промышленности][1], [строительства][2] и даже 
[телекоммуникационной отрасли][3] уже установлены нормы вредных выбросов. В то 
же время углеродный след от работы интернета растет совершенно неконтролируемо: 
объем выбросов составляет [830 миллионов тонн CO<sub>2</sub> в год][4], что 
больше, чем аналогичное воздействие [всей авиационной промышленности][5]. И это 
число может [удвоиться к 2020 году][6].

Пора веб-разработчикам задуматься об этом.

В настоящее время те, кто занимается веб-разработкой, ответственны, как 
минимум, за 332 миллиона тонн выбросов CO<sub>2</sub> — 
[40% всего углеродного следа от интернета][7]. Этот объем мог бы быть 
не таким большим, но с появлением в дизайне каруселей, изображений с высоким 
разрешением и т.д. мы многие годы разрабатываем все больше и больше 
требовательных к потреблению энергии страниц, создавая монструозные сайты, 
похожие на карьерные самосвалы или вездеходы там, где нам стоило бы обойтись 
скромными гибридными автомобилями или даже велосипедами.

Хорошая новость в том, что у нас есть несколько способов исправить 
растолстевшие сайты и постоянно бороться с углеродным следом нашей отрасли — 
способов, которые отлично сочетаются с хорошей бизнес-практикой: веб-разработка 
для мобильных устройств требует вдумчивого и эффективного подхода к созданию 
страниц, а все более сложные метрики экономической эффективности в интернете 
уже толкают бизнес к использованию легких и быстрых сайтов.

Прежде чем перейти к деталям, давайте посмотрим, как определить величину 
«углеродного следа» от сайта.

## Что такое углеродный след от веба?

Когда речь идет об энергопотреблении автомобиля, мы говорим о количестве 
километров, которые он может проехать на одном литре топлива. В случае с 
энергопотреблением сайтов мы можем говорить о количестве загружаемых данных. 
Это, в свою очередь, дает нам основания предполагать связь между размером 
страницы и углеродным следом. К сожалению, определение углеродного следа сайта, 
в лучшем случае, получается неоднозначным и неточным. Вот, что я думаю по этому 
поводу:

* Исследование [Национальной лаборатории Лоренса Беркли (Lawrence Berkeley 
National Laboratory)][8] 2008 года говорит, что для передачи 1 ГБ данных 
требуется [13 кВт⋅ч][9].
* Согласно [данным агентства по охране окружающей среды (EPA)][10] средняя 
электростанция в США выбрасывает примерно 1,2 фунта (0,54 кг) эквивалента 
диоксида углерода ([CO<sub>2</sub>e][11]) на 1 кВт⋅ч произведенной энергии 
(в других странах это значение в среднем может быть выше и ниже, в зависимости 
от их энергетической политики).
* Если мы умножим 13 кВт⋅ч на 1,2 фунта, то получим 15,6 фунтов (7,08 кг) 
CO<sub>2</sub>e — всего лишь для передачи 1 ГБ данных.
* Если миллион пользователей загружают обычную страницу, размер которой в 
настоящее время составляет [в среднем 1,4 МБ][12], то в сумме это 1,376 ГБ 
данных.
* При 15,6 фунтах на гигабайт мы получаем более 10 тонн CO<sub>2</sub>e. 
* Передача данных через мобильные сети, с учетом [3G/4G][13], практически в 5 
раз сильнее загрязняет окружающую среду — 77 фунтов (34,93 кг) CO<sub>2</sub> 
на гигабайт.
* Если миллион пользователей загружает 1,4-мегабайтную страницу через 3G, то это
1367 раз по 77 фунтов, то есть в сумме — 52 тонны CO<sub>2</sub>. 

На основании этих данных, мы можем подсчитать, что сайт [масштаба Tumblr][14] 
с 183 миллионами просмотров страниц в день, примерно 10% которых происходит с 
мобильных устройств, потенциально несет ответственность за выброс 2600 тонн 
CO<sub>2</sub> ежедневно.

Эти расчеты не принимают во внимание такие важные факторы, как количество 
потребляемой дата-центрами электроэнергии, получаемой из возобновляемых 
источников или с использованием органического топлива, или количество 
электроэнергии, потребляемой конечными пользователями, которые оказывают 
значительное влияние на итоговое значение. Но полученные данные дают нам 
основание для выявления зависимости между размером страницы и углеродным следом,
а также дают понять, что сокращение объема передаваемой информации ведет к 
снижению выбросов CO<sub>2</sub>.

С чего начать? С наших проектов.

## Снижение выбросов CO<sub>2</sub> путем борьбы с «растолстевшими» сайтами

Размер среднестатистической страницы сегодня составляет 1,4 МБ, что в 
[15 раз больше, чем 10 лет назад][15], и основную часть этих данных составляют 
изображения (881 кб) и скрипты (224 кб). Общий размер чистого HTML-кода 
составляет всего 54 кб, но когда в последний раз вы видели сайт 
[на чистом HTML][16]? Эта среднестатистическая страница, кроме того, 
формируется за счет более чем 100 HTTP-запросов. Не важно, передаются ли в них 
большие объемы информации или маленькие, они добавляют задержку при загрузке 
страницы, а также [увеличивают затраты электроэнергии][17]. К тому же, 
среднестатистический сайт — медленный: страницы 2000 ведущих магазинов из 
рейтинга Alexa [загружаются дольше 7 секунд][18], что гораздо больше, чем 
длительность загрузки, которую [пользователи считают приемлемой][19].

### Определение размера ресурсов для экологичного сайта

Никто специально не добивается размера страницы в 1,4 МБ, но клиенты часто
настаивают на использовании привлекающих внимание изображений, реализации
расширенного функционала взаимодействия с социальными сетями и использовании 
различных дизайнерских фишечек и рюшечек, и все это приводит к увеличению 
размера страницы. Лучший способ не допустить этого — это заранее [ограничить
ресурсы][20]: определить желаемый размер страницы и стараться сохранить его.

Мы в [MadPow][21] внедрили подход, связанный с ограничением ресурсов, который 
помогает нам следить за скоростью загрузки страниц, приняв целью загрузку 
страницы за [2 или менее секунд][22]. Само собой, чем больше веса страницы мы 
сбрасываем, тем меньше становится углеродный след сайта. Чтобы следить за ним, 
я умножаю размер страницы на количество ее просмотров пользователями, получая в 
грубом приближении суммарный трафик сайта, не забывая выделять отдельно 
кэшированные данные и более загрязняющий мобильный трафик.

Контроль за размером ресурсов означает учет объема данных на каждом этапе 
разработки:

**Стратегия формирования контента:** Когда вы работаете над снижением размера сайта, 
быстрым решением проблемы может быть замена тяжеловесного контента на более 
легкие альтернативы, например, замена видео на статичные изображения или замена 
изображений на текст — однако необходимо следить, чтобы новый контент 
удовлетворял потребностям пользователей и бизнеса. Еще эффективнее будет 
использовать подход «[сначала контент][23]», потому что вы можете контролировать 
конечный размер сайта на этапе подготовки контента, учитывая потребности 
аудитории и в то же время ограничение размера ресурсов.

**Проектирование взаимодействия:** Фаза разработки, во время которой
определяется пользовательское взаимодействие — это лучшее время, чтобы
отказаться от использования требовательных к ресурсам элементов сайта. 
Вездесущие карусели — первое, на что стоит обратить внимание. Обычная карусель 
содержит от 3 до 6 изображений, плюс JavaScript, необходимый для ее анимации, 
обычно добавляющий до нескольких сотен килобайт. 
[Эффективность каруселей в любом случае спорна][24]; если вам нужны причины для 
отказа от каруселей, основанные на статистике их использования, обратите 
внимание на [«вызов» каруселям от Брэда Фроста (Brad Frost)][25]. Другие 
элементы, необходимость которых на сайте стоит пересмотреть — кнопки публикации 
в социальные сети, встраиваемые карты, видео с автоматическим воспроизведением, 
Flash-контент, рекламные баннеры а также встраиваемый контент, предоставляемый 
третьими лицами — все они требуют загрузки большого объема вспомогательных 
данных.

**Графический дизайн:** Изображения вносят самый значительный вклад в углеродный 
след большинства сайтов (в среднем, 60%), и за счет них мы можем уменьшить 
объем ресурсов сайта. Для начала определите, может быть, вы можете обойтись меньшим 
количеством изображений? Кроме того, многие изображения в вебе сохранены в 
неправильном формате, имеют реальные размеры, несоответствующие отображаемым, 
или плохо оптимизированы. Бесплатные сервисы, такие как [smush.it][26], могут 
оптимизировать ваши изображения лучше, чем обычные средства редактирования, и, 
кроме того, их можно использовать для пакетной обработки изображений.

Объединение всех небольших изображений на вашем сайте в [CSS-спрайты][27] или 
[символьные шрифты][28] сократит объем передаваемых данных и количество 
HTTP-запросов; [иконки на чистом CSS][29] — это самый экономный с точки зрения 
передачи данных вариант, если браузер поддерживает их. И так как передача 
мобильных данных оставляет гораздо больший углеродный след, чем передача данных 
по проводным сетям, убедитесь, что ваш отзывчивый сайт использует работающее 
решение для отзывчивых изображений. Грамотная оптимизация может 
[снизить размер передаваемых изображений для мобильных на 72%][30]. 

**Дизайн кода:** Область клиентской оптимизации быстро развивается: уменьшение 
размера скриптов, передача сжатых данных, настройка времени кэширования, 
объединение файлов — все это может помочь снизить размер передаваемых данных и 
уменьшить число HTTP-запросов. Чтобы понять, как это работает, попробуйте 
использовать инструмент [Google Page Speed][31] на вашем сайте, и он покажет, 
какие техники вы можете применить, чтобы ускорить его. Если вы хотите более 
подробно изучить этот вопрос, я рекомендую прочесть статью 
«[Производительность в вебе. Часть 1][32]» или 
[недавнюю статью Лары Свонсон (Lara Swanson) на ALA][33]. 

**Экологичный хостинг:** Еще до того, как начать уменьшать углеродный след 
вашего сайта с помощью дизайна и оптимизации, вам стоит переехать на экологичный 
хостинг. Многие из них используют электричество, вырабатываемое с помощью 
возобновляемых источников энергии — например, в Исландии, где дата-центры могут 
пользоваться преимуществами дешевой геотермальной энергии. В настоящее время 
экологичный хостинг, может быть, подойдет не для всех (он может быть более 
дорогим, а ваши клиенты могут находиться достаточно далеко от Исландии), но со 
временем появляется все больше местных [экологичных хостингов][34]. Некоторые 
облачные сервисы становятся более дружественными к окружающей среде — Google, 
Apple и Rackspace частично используют энергию из возобновляемых источников, 
однако, согласно информации Greenpeace, 
[Amazon Web Services этого не делает][35]. 

**Остаточная компенсация:** Даже после применения минималистичного дизайна, 
оптимизации сайта и переезда на экологичный хостинг, за вашим сайтом все еще 
тянется углеродный след. Признавая свою ответственность за это, вы можете 
оплатить компенсацию, которая, как правило, составляет $19 за тонну 
[в зависимости от проекта][36]. Денежная компенсация не очищает атмосферу от 
CO<sub>2</sub>, и это очень плохая альтернатива снижению выбросов. Тем не менее, 
многие программы компенсации предлагают дополнительные бонусы, такие как 
финансирование образования в области развития и защиты хрупкой окружающей среды.

### Мотивация людей к оптимизации сайтов

Оптимизация с целью снижения выбросов равноценна оптимизации для улучшения 
производительности, поэтому даже для бизнеса, не стремящегося к улучшению 
экологической ситуации, существует несколько веских причин посадить свои сайты 
на диету: быстрая загрузка страниц 
[доставляет удовольствие пользователям (особенно мобильным)][33], она приводит 
к [лучшей конверсии][19], и такие страницы 
[лучше оптимизированы для поисковых систем][37].

Добавив к этому списку климатическую выгоду, мы получим вескую причину снижения 
размера страниц и передаваемых данных, особенно для компаний, уже стремящихся 
к защите климата (например, компаний, подписавших 
[Декларацию о защите климата][38]).

## Интернет как защитник климата

Несмотря на свой огромный углеродный след, интернет может быть спасителем 
климата. Переход старых отраслей и услуг в интернет имеет потенциал по снижению 
выбросов CO<sub>2</sub> [на 8 миллионов тонн к 2020 году][39], что больше, чем 
предсказываемый в размере 1,4 миллиона тонн к 2020 году след интернета.

Примеры положительного влияния интернета на экологическую ситуацию:

* Телеконференции уже снизили количество деловых поездок [на 30%][41].
* Аренда жилья (например, через AirBnB) на [66% более эффективна][42], 
чем использование гостиниц.
* Сервисы краткосрочной аренды автомобилей снижают их количество на дороге — 
[20 обычных машин заменяются одной сдаваемой в аренду][43] согласно информации 
ZipCar.
* [Meshing.it][44], справочник по экономике совместного пользования, содержит 
свыше 8000 стартапов, нацеленных на разделение прав собственности в сообществах, 
что приводит к снижению потребления.

Мы продолжаем предпринимать шаги по развитию принципов экономии в сети. 
Тем не менее, нам скоро предстоит встречать 
[5 миллиардов новых пользователей][40] интернета. Так как суммарное влияние 
интернета на загрязнение окружающей среды продолжает расти, ответственность за 
климат лежит на тех, кто занимается развитием этой отрасли. Но разрабатывая 
экологичные ресурсы, мы можем снизить влияние интернета на окружающую среду, 
в то же время удовлетворяя потребности пользователей и увеличивая прибыльность 
бизнеса.

Возможно, мы считаем, что экологичные решения всегда требуют от нас пойти на 
какие-либо жертвы, но в случае с вебом это не так. Сайты могут быть экологичнее, 
и в то же время удовлетворять потребности пользователей и улучшать итоговые 
показатели бизнеса. И даже если проблема кажется очень большой, любой диетолог 
скажет вам, что небольшие изменения складываются, давая существенный эффект. 
Почему бы нам не начать?

[1]: http://www.epa.gov/otaq/carlabel/index.htm
[2]: http://www.usgbc.org/leed
[3]: http://www.greentouch.org/
[4]: http://www.sciencedaily.com/releases/2013/01/130102140452.htm
[5]: http://www.atag.org/facts-and-figures.html
[6]: http://www.theclimategroup.org/what-we-do/publications/SMART2020-Enabling-the-low-carbon-economy-in-the-information-age/
[7]: http://www.sandvine.com/news/global_broadband_trends.asp
[8]: http://evanmills.lbl.gov/commentary/docs/carbonemissions.pdf
[9]: http://en.wikipedia.org/wiki/Kilowatt_hour
[10]: http://www.epa.gov/cleanenergy/energy-resources/calculator.html
[11]: http://www.woodlandtrust.org.uk/en/why-woods-matter/woods-carbon/Pages/what-does-CO2e-mean.aspx#.Ufv-VWSG0ow
[12]: http://httparchive.org/interesting.php
[13]: http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=6082509&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D6082509
[14]: https://www.quantcast.com/tumblr.com
[15]: http://www.websiteoptimization.com/speed/tweak/average-web-page/
[16]: http://justinjackson.ca/words.html
[17]: http://www.mightybytes.com/blog/entry/http-requests/
[18]: http://www.webperformancetoday.com/2013/03/27/top-ecommerce-sites-are-slower-than-they-were-last-year/
[19]: http://www.websiteoptimization.com/speed/tweak/psychology-web-performance/
[20]: http://clearleft.com/thinks/responsivedesignonabudget/
[21]: http://madpow.com
[22]: http://blogs.keynote.com/the_watch/2009/09/the-new-2-second-website-rule.html
[23]: http://www.lukew.com/ff/entry.asp?1598
[24]: http://www.nngroup.com/articles/auto-forwarding/
[25]: http://bradfrostweb.com/blog/post/carousels/
[26]: http://www.smushit.com/ysmush.it/
[27]: http://css-tricks.com/css-sprites/
[28]: http://css-tricks.com/flat-icons-icon-fonts/
[29]: http://nicolasgallagher.com/pure-css-gui-icons/demo/
[30]: http://timkadlec.com/2013/06/why-we-need-responsive-images/
[31]: https://developers.google.com/speed/pagespeed/
[32]: http://www.webperformancetoday.com/2013/01/31/web-performance-101-developers/
[33]: http://alistapart.com/article/improving-ux-through-front-end-performance
[34]: http://sustainablevirtualdesign.wordpress.com/green-hosting/
[35]: http://www.greenpeace.org/usa/en/campaigns/global-warming-and-energy/cleanourcloud/greenaws/
[36]: http://www.offsetconsumer.org/providers/
[37]: http://googlewebmastercentral.blogspot.com/2010/04/using-site-speed-in-web-search-ranking.html
[38]: http://www.ceres.org/bicep/climate-declaration
[39]: http://www.smart2020.org/publications/
[40]: http://www.cnn.com/2013/04/15/tech/web/eric-schmidt-internet
[41]: http://www.slideshare.net/blake/why-cleanweb-will-beat-cleantech
[42]: http://www.fastcoexist.com/1679964/whats-the-future-of-the-sharing-economy
[43]: http://www.zipcar.com/is-it/greenbenefits
[44]: http://meshing.it/